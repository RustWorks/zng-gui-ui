[package]
name = "zero-ui-proc-macros"
version = "0.1.0"
authors = ["Samuel Guerra <sam.rodr.g@gmail.com>", "Well <well-r@hotmail.com>"]
edition = "2021"
license = "Apache-2.0"

[features]
# Use dynamic dispatch at the property level by placing each property node in a `BoxedUiNode`.
#
# This speeds-up compilation time at the cost of runtime, if `inspector` is enabled 
# the generated code has the same effect as this.
dyn_property = []

# Use dynamic dispatch at the widget level by placing the widget child node in a `BoxedUiNode`.

# This does not cost as much runtime as `dyn_property` and is the only way of getting sane build times
# in most desktop machines. Without this feature build time and memory grows exponentially or worst, a similar
# effect that can be observed in nested async code. Only enable this if you have build server that can handle it,
# the result is as optimized as it gets with some event handlers compiling down to an almost direct call.
dyn_widget = []

# Instrument each property and widget instance with "Inspector" nodes.
#
# Note: This has the effect of `dyn_widget` and `dyn_property`.
inspector = []

[lib]
proc-macro = true

[dependencies]
proc-macro2 = "1"
# 10.84 introduced `parse_quote_spanned!`
syn = { version = "^1.0.84", features = ["full", "visit-mut", "extra-traits", "derive"] }
quote = "1"

once_cell = "1"

unic-langid = "0.9"

[build-dependencies]
minifier = "0.0.42"
